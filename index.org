#+title: Uncertainty cascade - DESTinEE & Calliope

* Plot description

The plots are grouped in two ways, by country and by technology.  To
keep the plots manageable, the countries have been grouped as shown
in the table below.  Transmission is not included for the moment.

| nordic | baltic | west | med | isles | balkan |
|--------+--------+------+-----+-------+--------|
| DNK    | EST    | DEU  | ESP | GBR   | MKD    |
| FIN    | LTU    | FRA  | ITA | IRL   | ROU    |
| NOR    | LVA    | NLD  | GRC |       | SRB    |
| SWE    |        | LUX  | PRT |       | SVN    |
|        |        | BEL  |     |       | HRV    |
|        |        | POL  |     |       | ALB    |
|        |        | CHE  |     |       | BIH    |
|        |        | AUT  |     |       | BGR    |
|        |        |      |     |       | SVK    |
|        |        |      |     |       | HUN    |
|        |        |      |     |       | CZE    |

To compare the variation between different scenarios, they are treated
in groups: building heating, EV charging, PV cost, and battery cost.
For each we decide on a baseline as shown in the table below.  When
one scenario is being varied, the others are pinned to the
corresponding baseline.  Then the (asymmetric) uncertainty is
calculated as deviation from the baseline for that scenario.

The scenarios are further grouped into three categories: demand side
uncertainty, and cost uncertainty, and all.  To estimate the
uncertainty of one scenario group, the scenarios in the other group
are pinned to their baselines; for all nothing is pinned.

Scenario baselines:
| heating | EV  |  PV | battery | demand  | cost    | all  |
|---------+-----+-----+---------+---------+---------+------|
| mid     | mid | 100 |     100 | PV      | heating | none |
|         |     |     |         | battery | EV      |      |

* Notes

The plot files are named as: ~{metric}_{region}_{grouping}.html~,
where grouping is either "region" or "technology".  The bars in the
plots are is the baseline for all, i.e. all fixed, and the uncertainty
is shown by the error bars.  I don't think this is ideal, as you
cannot see the different splits (by country or technology).  But I
chose this to make it easier to compare.

* Plots
#+begin_src bash :exports none
  rm -f index.html
#+end_src

** Systemwide metrics
#+begin_src bash :exports results :results output list raw
  printf -- "file:%s\n" {total,systemwide}*.html
#+end_src

#+RESULTS:
- file:total_levelised_cost.html
- file:systemwide_capacity_factor.html
- file:systemwide_levelised_cost.html

** Capacity factor breakdowns
#+begin_src bash :exports results :results output list raw
  printf -- "file:%s\n" capacity_factor*.html
#+end_src

#+RESULTS:
- file:capacity_factor_region.html
- file:capacity_factor_technology.html

** Uncertainty comparisons across scenario groups
#+begin_src bash :exports results :results output list raw
  printf -- "file:%s\n" scenario_group_delta*.html
#+end_src

#+RESULTS:
- file:scenario_group_delta_demand_cost_all.html
- file:scenario_group_delta_heating_EV.html
- file:scenario_group_delta_PV_battery.html

*** Variation of demand and production across scenario groups
#+begin_src bash :exports results :results output raw
  printf -- "#+begin_figure\nfile:%s\n#+end_figure\n" carrier_{con,prod}*.png
#+end_src

#+RESULTS:
#+begin_figure
file:carrier_con_cost-1.png
#+end_figure
#+begin_figure
file:carrier_con_cost-2.png
#+end_figure
#+begin_figure
file:carrier_con_cost_export-1.png
#+end_figure
#+begin_figure
file:carrier_con_cost_export-2.png
#+end_figure
#+begin_figure
file:carrier_con_demand-1.png
#+end_figure
#+begin_figure
file:carrier_con_demand-2.png
#+end_figure
#+begin_figure
file:carrier_con_demand_export-1.png
#+end_figure
#+begin_figure
file:carrier_con_demand_export-2.png
#+end_figure
#+begin_figure
file:carrier_prod_cost-1.png
#+end_figure
#+begin_figure
file:carrier_prod_cost-2.png
#+end_figure
#+begin_figure
file:carrier_prod_cost_import-1.png
#+end_figure
#+begin_figure
file:carrier_prod_cost_import-2.png
#+end_figure
#+begin_figure
file:carrier_prod_demand-1.png
#+end_figure
#+begin_figure
file:carrier_prod_demand-2.png
#+end_figure
#+begin_figure
file:carrier_prod_demand_import-1.png
#+end_figure
#+begin_figure
file:carrier_prod_demand_import-2.png
#+end_figure

** Comparison: demand - production - import - export
#+begin_src bash :exports results :results output list raw
  printf -- "file:%s\n" demand_production_scatter*.html
#+end_src

#+RESULTS:
- file:demand_production_scatter_sort_by_demand.html
- file:demand_production_scatter_sort_by_prod.html

** Others
#+begin_src bash :exports results :results output list raw
 printf -- "file:%s\n" {carrier,cost,energy,resource,storage}*.html
#+end_src

#+RESULTS:
- file:carrier_con_balkan_region.html
- file:carrier_con_balkan_technology.html
- file:carrier_con_baltic_region.html
- file:carrier_con_baltic_technology.html
- file:carrier_con_isles_region.html
- file:carrier_con_isles_technology.html
- file:carrier_con_med_region.html
- file:carrier_con_med_technology.html
- file:carrier_con_nordic_region.html
- file:carrier_con_nordic_technology.html
- file:carrier_con_west_region.html
- file:carrier_con_west_technology.html
- file:carrier_prod_balkan_region.html
- file:carrier_prod_balkan_technology.html
- file:carrier_prod_baltic_region.html
- file:carrier_prod_baltic_technology.html
- file:carrier_prod_isles_region.html
- file:carrier_prod_isles_technology.html
- file:carrier_prod_med_region.html
- file:carrier_prod_med_technology.html
- file:carrier_prod_nordic_region.html
- file:carrier_prod_nordic_technology.html
- file:carrier_prod_share.html
- file:carrier_prod_west_region.html
- file:carrier_prod_west_technology.html
- file:cost_balkan_region.html
- file:cost_balkan_technology.html
- file:cost_baltic_region.html
- file:cost_baltic_technology.html
- file:cost_investment_balkan_region.html
- file:cost_investment_balkan_technology.html
- file:cost_investment_baltic_region.html
- file:cost_investment_baltic_technology.html
- file:cost_investment_isles_region.html
- file:cost_investment_isles_technology.html
- file:cost_investment_med_region.html
- file:cost_investment_med_technology.html
- file:cost_investment_nordic_region.html
- file:cost_investment_nordic_technology.html
- file:cost_investment_west_region.html
- file:cost_investment_west_technology.html
- file:cost_isles_region.html
- file:cost_isles_technology.html
- file:cost_med_region.html
- file:cost_med_technology.html
- file:cost_nordic_region.html
- file:cost_nordic_technology.html
- file:cost_var_balkan_region.html
- file:cost_var_balkan_technology.html
- file:cost_var_baltic_region.html
- file:cost_var_baltic_technology.html
- file:cost_var_isles_region.html
- file:cost_var_isles_technology.html
- file:cost_var_med_region.html
- file:cost_var_med_technology.html
- file:cost_var_nordic_region.html
- file:cost_var_nordic_technology.html
- file:cost_var_west_region.html
- file:cost_var_west_technology.html
- file:cost_west_region.html
- file:cost_west_technology.html
- file:energy_cap_balkan_region.html
- file:energy_cap_balkan_technology.html
- file:energy_cap_baltic_region.html
- file:energy_cap_baltic_technology.html
- file:energy_cap_isles_region.html
- file:energy_cap_isles_technology.html
- file:energy_cap_med_region.html
- file:energy_cap_med_technology.html
- file:energy_cap_nordic_region.html
- file:energy_cap_nordic_technology.html
- file:energy_cap_west_region.html
- file:energy_cap_west_technology.html
- file:resource_area_balkan_region.html
- file:resource_area_balkan_technology.html
- file:resource_area_baltic_region.html
- file:resource_area_baltic_technology.html
- file:resource_area_isles_region.html
- file:resource_area_isles_technology.html
- file:resource_area_med_region.html
- file:resource_area_med_technology.html
- file:resource_area_nordic_region.html
- file:resource_area_nordic_technology.html
- file:resource_area_west_region.html
- file:resource_area_west_technology.html
- file:resource_cap_balkan_region.html
- file:resource_cap_balkan_technology.html
- file:resource_cap_baltic_region.html
- file:resource_cap_baltic_technology.html
- file:resource_cap_isles_region.html
- file:resource_cap_isles_technology.html
- file:resource_cap_med_region.html
- file:resource_cap_med_technology.html
- file:resource_cap_nordic_region.html
- file:resource_cap_nordic_technology.html
- file:resource_cap_west_region.html
- file:resource_cap_west_technology.html
- file:resource_con_balkan_region.html
- file:resource_con_balkan_technology.html
- file:resource_con_baltic_region.html
- file:resource_con_baltic_technology.html
- file:resource_con_isles_region.html
- file:resource_con_isles_technology.html
- file:resource_con_med_region.html
- file:resource_con_med_technology.html
- file:resource_con_nordic_region.html
- file:resource_con_nordic_technology.html
- file:resource_con_west_region.html
- file:resource_con_west_technology.html
- file:storage_balkan_region.html
- file:storage_balkan_technology.html
- file:storage_baltic_region.html
- file:storage_baltic_technology.html
- file:storage_cap_balkan_region.html
- file:storage_cap_balkan_technology.html
- file:storage_cap_baltic_region.html
- file:storage_cap_baltic_technology.html
- file:storage_cap_isles_region.html
- file:storage_cap_isles_technology.html
- file:storage_cap_med_region.html
- file:storage_cap_med_technology.html
- file:storage_cap_nordic_region.html
- file:storage_cap_nordic_technology.html
- file:storage_cap_west_region.html
- file:storage_cap_west_technology.html
- file:storage_isles_region.html
- file:storage_isles_technology.html
- file:storage_med_region.html
- file:storage_med_technology.html
- file:storage_nordic_region.html
- file:storage_nordic_technology.html
- file:storage_west_region.html
- file:storage_west_technology.html
